# Трекер прочитанных книг

Веб-приложение для отслеживания прочитанных книг, создания списков чтения и обмена рекомендациями.

## Технологии

- **Frontend**: Next.js, TypeScript, Tailwind CSS, shadcn/ui
- **Backend**: Supabase (PostgreSQL, Auth, Storage)
- **Деплой**: Vercel

## Начало работы

1. Клонируйте репозиторий:

```bash
git clone https://github.com/Ravva/book-tracker.git
cd book-tracker
```

2. Установите зависимости:

```bash
pnpm install
```

3. Создайте файл `.env.local` на основе `.env.example` и заполните его своими данными Supabase:

```bash
cp .env.example .env.local
```

4. Запустите сервер разработки:

```bash
pnpm dev
```

5. Откройте [http://localhost:3000](http://localhost:3000) в браузере.

## Работа с Supabase

### Получение схемы базы данных

Для получения актуальной схемы базы данных из Supabase и генерации TypeScript типов:

1. Убедитесь, что в файле `.env.local` указаны правильные значения:
   - `NEXT_PUBLIC_SUPABASE_URL`
   - `NEXT_PUBLIC_SUPABASE_ANON_KEY`
   - `SUPABASE_SERVICE_ROLE_KEY`

2. Запустите скрипт:

```bash
pnpm fetch-schema
```

Скрипт создаст два файла:
- `lib/supabase-schema.json` - JSON-представление схемы базы данных
- `lib/supabase-types.ts` - TypeScript типы на основе схемы

### Структура базы данных

База данных содержит следующие таблицы:

- `books` - информация о книгах
- `user_books` - связь пользователей с книгами (статус, рейтинг)
- `tags` - теги для категоризации книг
- `book_tags` - связь книг с тегами
- `lists` - списки книг
- `list_books` - связь списков с книгами
- `comments` - комментарии к книгам
- `achievements` - достижения
- `user_achievements` - связь пользователей с достижениями

## Функциональность

- Регистрация и авторизация через OAuth (GitHub, Google)
- Добавление книг в личную библиотеку
- Загрузка и скачивание файлов книг (fb2/zip до 20 Мб)
- Отслеживание прогресса чтения
- Оценка книг по 10-балльной шкале
- Создание и публикация списков книг
- Система тегов для категоризации
- Статистика чтения
- Система достижений
