# ТЕХНИЧЕСКОЕ ЗАДАНИЕ: ТРЕКЕР ПРОЧИТАННЫХ КНИГ

## 1. Общая информация

**Название проекта:** Трекер прочитанных книг - book-tracker

**Цель проекта:** Разработка веб-приложения для отслеживания прочитанных книг с возможностью оценки, комментирования и обмена списками книг между пользователями.

**Целевая аудитория:** Любой человек, интересующийся чтением и желающий вести учет прочитанных книг.

**Сроки реализации:** 2 дня

**Язык интерфейса:** Русский

## 2. Технический стек

**Фронтенд:**
- Next.js (TSX)
- Tailwind CSS
- shadcn/ui (компонентная библиотека)

**Бэкенд:**
- Supabase (аутентификация, база данных, хранение файлов)

**Хостинг:**
- Vercel

**Пакетный менеджер:**
- pnpm

## 3. Функциональные требования

### 3.1. Авторизация и пользователи
- Регистрация пользователей через Supabase
- Авторизация пользователей
- Восстановление пароля
- Профиль пользователя с основной информацией
- Статистика пользователя (количество прочитанных книг, средняя оценка, распределение по статусам)

### 3.2. Управление книгами
- Добавление новой книги со следующими полями:
  - Название
  - Автор
  - Описание
  - Обложка (загрузка изображения)
  - Рейтинг (по 10-балльной шкале, необязательное поле)
  - Теги
  - Статус (прочитал/читаю/хочу прочитать)
  - Состав (для циклов в виде: 1. Наименование (год))
- Редактирование информации о книге
- Удаление книги
- Просмотр списка всех добавленных книг
- Фильтрация и сортировка книг
- Загрузка электронных версий книг (форматы: fb2, zip)
- Хранение файлов книг в Supabase (ограничение размера до 20 МБ)
- Скачивание книг с подсчетом количества скачиваний
- Подсчет просмотров книг
- Возможность ставить лайки книгам

### 3.3. Оценка и комментирование
- Рейтинг книги по 10-балльной шкале (необязательное поле), задается на этапе добавления/редактирования книги
- Добавление комментариев/рецензий к книгам
- Редактирование и удаление комментариев
- Отображение количества комментариев к книге

### 3.4. Система тегов
- Добавление тегов к книгам (жанр, тематика и т.д.)
- Редактирование и удаление тегов
- Фильтрация книг по тегам
- Облако тегов для быстрой навигации

### 3.5. Поиск и фильтрация
- Поиск книг по названию, автору, тегам
- Фильтрация по оценке, дате прочтения, тегам, статусу

### 3.6. Социальные функции
- Возможность делиться списками книг с другими пользователями
- Публичные/приватные списки книг
- Просмотр профилей других пользователей и их публичных списков

### 3.7. Статистика
- Статистика по книгам (количество просмотров, скачиваний, лайков)
- Статистика пользователя (количество прочитанных книг за период, средняя оценка, распределение по статусам)
- Визуализация статистики (графики, диаграммы)

## 4. Требования к интерфейсу

- Минималистичный стиль дизайна
- Адаптивный дизайн для различных устройств
- Поддержка темной/светлой темы
- Использование исключительно компонентов shadcn/ui
- Интуитивно понятный интерфейс
- Высокая скорость работы приложения

## 5. Интеграции

- Интеграция с Supabase для:
  - Авторизации пользователей
  - Хранения данных в базе данных
  - Хранения файлов (обложки книг и электронные версии)

## 6. Структура базы данных

**Таблица Users:**
- id (primary key)
- email
- password (хеш)
- name
- created_at
- avatar_url (опционально)

**Таблица Books:**
- id (primary key)
- user_id (foreign key)
- title
- author
- description
- cover_image_url
- file_url
- download_count
- view_count
- like_count
- status (enum: read, reading, want_to_read)
- rating (1-10, nullable)
- created_at
- updated_at

**Таблица BookSeries:**
- id (primary key)
- book_id (foreign key)
- order_number
- title
- year
- created_at

**Таблица Comments:**
- id (primary key)
- book_id (foreign key)
- user_id (foreign key)
- content
- created_at
- updated_at

**Таблица Tags:**
- id (primary key)
- name
- created_at

**Таблица BookTags (связь многие-ко-многим):**
- id (primary key)
- book_id (foreign key)
- tag_id (foreign key)

**Таблица Likes:**
- id (primary key)
- book_id (foreign key)
- user_id (foreign key)
- created_at

**Таблица BookLists:**
- id (primary key)
- user_id (foreign key)
- name
- description
- is_public
- created_at
- updated_at

**Таблица BookListItems:**
- id (primary key)
- list_id (foreign key)
- book_id (foreign key)
- created_at

## 7. Страницы приложения

1. Главная страница (дашборд)
   - Популярные книги
   - Активность пользователей (кто что читает)
   - Последние комментарии
   - Общая статистика
2. Страница каталога книг (список книг с фильтрами и поиском)
3. Страница авторизации/регистрации
4. Страница добавления/редактирования книги
5. Страница детальной информации о книге
6. Страница профиля пользователя
   - Личная статистика
   - Списки книг пользователя
7. Страница настроек (включая переключение темы)
8. Страница управления тегами
9. Страница статистики (общая и персональная)
10. Страница списков книг (создание, редактирование, просмотр)

## 8. Метрики успеха

- Эстетически привлекательный дизайн
- Удобство использования (UX)
- Высокая скорость работы приложения

## 9. Дополнительные требования

- Обработка ошибок и уведомления пользователя
- Валидация форм
- Оптимизация загрузки изображений и файлов
- Ограничение размера загружаемых файлов (до 20 МБ)
- Поддержка только форматов fb2 и zip для загрузки книг
- Проверка типа файла при загрузке

## 10. Ограничения

- Язык интерфейса: только русский
- Отсутствие интеграции с внешними API для получения информации о книгах
- Ограничение размера загружаемых файлов до 20 МБ
- Поддержка только форматов fb2 и zip для загрузки книг
